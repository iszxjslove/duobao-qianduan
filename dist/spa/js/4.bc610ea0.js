(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{6252:function(t,e,s){},"830d":function(t,e,s){"use strict";var i=s("6252"),a=s.n(i);a.a},9365:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"bg-grey-3"},[s("q-card",{attrs:{flat:"",square:""}},[s("q-img",{attrs:{src:t.headerBg,ratio:16/6}},[s("q-item",{staticClass:"full-width bg-transparent",staticStyle:{"padding-top":"24px"}},[s("q-item-section",{on:{click:t.cleartime}},[s("q-item-label",[t._v(t._s(t.$t("available_balance")))]),s("q-item-label",{staticClass:"text-h5"},[t._v("\n            "+t._s(t._f("symbol")(t.userinfo.money))+"\n          ")])],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{color:"white",to:"/page/recharge","text-color":"black",unelevated:"","no-caps":""}},[t._v("\n            "+t._s(t.$t("rechange"))+"\n            "),s("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1)],1),s("q-item",{staticClass:"absolute-bottom bg-transparent text-white"},[s("q-item-section",[t._v(t._s(t.userinfo.referrer))]),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"text-white",attrs:{"text-color":"white",label:t.$t("rule"),unelevated:"",icon:"article",outline:"","no-caps":""},on:{click:function(e){t.ruleDialog=!0}}})],1)],1)],1),s("q-item",{staticClass:"q-py-lg"},[s("q-item-section",{attrs:{side:""}},[s("q-item-label",[t._v(t._s(t.$t("period")))]),s("q-item-label",{staticClass:"text-h5 text-positive"},[t._v("\n          "+t._s(t.issue.issue)+"\n          "),t.issue.id?t._e():s("div",{staticStyle:{width:"120px"}},[s("q-skeleton",{attrs:{animation:"pulse-x"}})],1)])],1),s("q-item-section"),s("q-item-section",{attrs:{side:""}},[s("q-item-label",[t._v(t._s(t.$t("count_down")))]),s("q-item-label",{staticClass:"text-h5 text-negative"},[t.issue.id?t._e():s("div",{staticStyle:{width:"120px"}},[s("q-skeleton",{attrs:{animation:"pulse-x"}})],1),t.issue.id?s("count-down",{staticClass:"issue-count-down",attrs:{now:t.issue.server_time,end:t.issue.saleend,unit:{minute:":",second:""}},on:{progress:t.progress,over:t.timeOver}}):t._e()],1)],1)],1)],1),s("q-separator"),s("q-list",{staticClass:"q-py-md bg-white q-mb-md"},[s("q-item",{staticClass:"row q-gutter-md"},t._l(t.colors,(function(e,i){return s("q-btn",{key:i,staticClass:"col",class:{"select-color":"lg"===t.btnSize},attrs:{size:t.btnSize,label:t.$t("join_selected",{val:e.label}),unelevated:"","no-caps":"",color:t.saleend?"grey-3":e.color},on:{click:function(s){return t.selectVal(e.label)}}})})),1),s("q-item",{staticClass:"row q-gutter-md"},t._l([0,1,2,3,4],(function(e){return s("q-btn",{key:e,staticClass:"col",attrs:{label:e,unelevated:"",size:t.btnSize,color:t.saleend?"grey-3":"primary"},on:{click:function(s){return t.selectVal(e)}}})})),1),s("q-item",{staticClass:"row q-gutter-md"},t._l([5,6,7,8,9],(function(e){return s("q-btn",{key:e,staticClass:"col",attrs:{label:e,unelevated:"",size:t.btnSize,color:t.saleend?"grey-3":"primary"},on:{click:function(s){return t.selectVal(e)}}})})),1)],1),s("q-separator"),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-white",attrs:{clickable:"",to:"/page/game/record"}},[s("q-item-section",[t._v(t._s(t.$t("issue_record")))]),s("q-item-section",{attrs:{side:""}},[t._v(t._s(t.$t("more")))]),s("q-item-section",{staticClass:"side-no-padding",attrs:{side:""}},[s("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1),s("q-separator"),s("div",{staticClass:"q-px-md bg-white q-mb-md"},[s("q-markup-table",{attrs:{flat:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("period")))]),s("th",{staticClass:"text-center"},[t._v(t._s(t.$t("price")))]),s("th",{staticClass:"text-center"},[t._v(t._s(t.$t("number")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("result")))])])]),s("tbody",t._l(t.issueList,(function(e,i){return s("tr",{key:i},[e.issue?[s("td",{staticClass:"text-left"},[t._v(t._s(e.issue))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.code))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.last_digits))]),s("td",{staticClass:"text-right"},[e.colors?s("div",t._l(e.colors.split(","),(function(e,i){return s("q-icon",{key:i,attrs:{name:"lens",color:t.$config.options.colors[e]}})})),1):t._e()])]:[s("td",{staticClass:"text-center text-grey-8",attrs:{colspan:"4"}},[s("q-spinner",{staticClass:"on-left"}),t._v(t._s(t.$t("loading"))+"...\n            ")],1)]],2)})),0)])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-white",attrs:{clickable:"",to:"/page/game/projects"}},[s("q-item-section",[t._v(t._s(t.$t("my_orders")))]),s("q-item-section",{attrs:{side:""}},[t._v(t._s(t.$t("more")))]),s("q-item-section",{staticClass:"side-no-padding",attrs:{side:""}},[s("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1),s("q-separator"),s("div",{staticClass:"q-px-md q-mb-md bg-white"},[!t.projectsList||t.projectsList.length<1?s("q-item-section",{staticClass:"text-center q-pa-md"},[t._v("\n      "+t._s(t.$t("no_more"))+"\n    ")]):s("q-markup-table",{attrs:{flat:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("period")))]),s("th",{staticClass:"text-center"},[t._v(t._s(t.$t("price")))]),s("th",{staticClass:"text-center"},[t._v(t._s(t.$t("total")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("status")))])])]),s("tbody",t._l(t.projectsList,(function(e,i){return s("tr",{key:i},[s("td",{staticClass:"text-left"},[t._v(t._s(e.issue))]),s("td",{staticClass:"text-center"},["singular"!==e.color?s("q-icon",{attrs:{name:"lens",color:t.$config.options.colors[e.color]}}):s("span",[t._v(t._s(e.code))])],1),s("td",{staticClass:"text-center"},[t._v(t._s(e.totalprice))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.statusText(e.isgetprize)))])])})),0)])],1),s("wager-dialog",{attrs:{select:t.select},on:{confirm:t.wager},model:{value:t.wagerDialog,callback:function(e){t.wagerDialog=e},expression:"wagerDialog"}}),s("agreement-dialog",{attrs:{content:t.howToPlay.content},model:{value:t.ruleDialog,callback:function(e){t.ruleDialog=e},expression:"ruleDialog"}})],1)},a=[],n=(s("c975"),s("d81d"),s("b0c0"),s("a639")),o=s("b21a"),r=s("a474"),c={name:"GamePage",data:function(){return{btnSize:"md",wagerDialog:!1,ruleDialog:!1,select:"",selected:"",colors:[{label:"green",color:"positive"},{label:"violet",color:"accent"},{label:"red",color:"negative"}],numbers:[0,1,2,3,4,5,6,7,8,9],howToPlay:{content:""},issue:{},issueList:[],projectsList:[],saleend:!1}},computed:{headerBg:function(){return this.$store.state.common.headerBg},userinfo:function(){return this.$store.state.member.userinfo},currency:function(){return this.$store.state.common.currency},selectedColor:function(){return this.$config.options.colors[this.selected]?this.$config.options.colors[this.selected]:"primary"}},preFetch:function(t){var e=t.store,s=t.redirect,i=t.currentRoute;e.commit("member/autoToken"),e.commit("member/setUserinfo"),n["a"].getItem(o["a"].key("auth"))||"/login"===i.path||s("/login")},methods:{statusText:function(t){var e=["no_judge","winner","lost"];return this.$t(e[t])},progress:function(t){this.saleend=!1,t.time>=this.issue.canneldeadline&&(this.saleend=!0,this.wagerDialog=!1)},timeOver:function(t){var e=this;this.saleend=!1,this.play(),this.issueList.unshift({}),setTimeout((function(){e.getIssueList(),e.getProjectsList(),e.getUserinfo()}),3e3)},selectVal:function(t){var e=this;if(this.saleend)return!1;-1!==this.numbers.indexOf(t)?(this.select=t,this.selected=t):this.colors.map((function(s){s.label===t&&(e.select=s,e.selected=s.label)}))},play:function(){var t=this;Object(r["play"])().then((function(e){t.issue=e}))},getIssueList:function(){var t=this;Object(r["issues"])(1,10).then((function(e){t.issueList=e.rows}))},getProjectsList:function(){var t=this;Object(r["projects"])(1,10).then((function(e){t.projectsList=e.rows}))},wager:function(t){var e=this;Object(r["wager"])(this.issue.issue,this.selected,t.money,t.number).then((function(t){e.getProjectsList(),e.getUserinfo(),e.$toastr.success({message:e.$t("success"),caption:"selected "+e.selected})}))},getUserinfo:function(){var t=this;Object(r["userinfo"])().then((function(e){t.$store.commit("member/setUserinfo",e)}))},cleartime:function(){this.userinfo.test&&(this.$q.sessionStorage.remove(o["a"].key("game_limit_time")),window.location.reload())}},watch:{select:function(t){""!==t&&(this.wagerDialog=!0)},wagerDialog:function(t){t||(this.select="")},saleend:function(t){this.$q.sessionStorage.set(this.$config.key("saleend"),t)}},mounted:function(){this.userinfo.test&&(this.timeout=setTimeout((function(){window.location.reload()}),o["a"].options.game_limit_time))},destroyed:function(){clearTimeout(this.timeout)},created:function(){var t=this;this.saleend=this.$q.sessionStorage.getItem(this.$config.key("saleend")),this.play(),this.getIssueList(),this.getProjectsList(),Object(r["agreement"])("game_rules,how_to_play").then((function(e){e.map((function(e){"game_rules"===e.name&&t.$store.commit("common/setGameRules",e),"how_to_play"===e.name&&(t.howToPlay.content=e.content)}))}))}},l=c,u=(s("830d"),s("2877")),m=s("9989"),d=s("f09f"),g=s("068f"),h=s("66e5"),p=s("4074"),_=s("0170"),f=s("0016"),b=s("9c40"),v=s("293e"),q=s("eb85"),w=s("1c1c"),y=s("2bb1"),C=s("0d59"),x=s("714f"),$=s("eebe"),k=s.n($),j=Object(u["a"])(l,i,a,!1,null,null,null);e["default"]=j.exports;k()(j,"components",{QPage:m["a"],QCard:d["a"],QImg:g["a"],QItem:h["a"],QItemSection:p["a"],QItemLabel:_["a"],QIcon:f["a"],QBtn:b["a"],QSkeleton:v["a"],QSeparator:q["a"],QList:w["a"],QMarkupTable:y["a"],QSpinner:C["a"]}),k()(j,"directives",{Ripple:x["a"]})}}]);