(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"30b8":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"hHh lpR fFf"}},[n("q-header",[n("q-toolbar",{staticClass:"bg-white q-pt-xl q-pb-md text-grey-8 text-center"},[n("q-toolbar-title",[e._v(e._s(e.$t("forget_password")))])],1)],1),n("q-page-container",[n("q-page",[n("div",{staticClass:"q-px-xl"},[n("q-form",{on:{submit:e.onSubmit}},[n("q-input",{ref:"mobile",attrs:{placeholder:e.$t("registered_mobile_number"),label:e.$t("mobile"),rules:[function(t){return t&&t.length>0||e.$t("enter_correct_mobile")}],"lazy-rules":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"phone_android"}})]},proxy:!0},e.form.mobile?{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){t.stopPropagation(),e.form.mobile=""}}})]},proxy:!0}:null],null,!0),model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),n("q-input",{attrs:{type:"password",rules:[e.passwordRule],placeholder:e.$t("create_password"),label:e.$t("password")},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"o_lock"}})]},proxy:!0},e.form.newpassword?{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){t.stopPropagation(),e.form.newpassword=""}}})]},proxy:!0}:null],null,!0),model:{value:e.form.newpassword,callback:function(t){e.$set(e.form,"newpassword",t)},expression:"form.newpassword"}}),n("q-input",{attrs:{type:"password",placeholder:e.$t("confirm_password"),label:e.$t("confirm_password"),rules:[function(t){return t&&t===e.form.newpassword||e.$t("password_confirm_failed")}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"check"}})]},proxy:!0},e.form.confirmPassword?{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){t.stopPropagation(),e.form.confirmPassword=""}}})]},proxy:!0}:null],null,!0),model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),n("q-input",{attrs:{placeholder:e.$t("verification_code"),label:e.$t("verification_code")},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"o_insert_comment"}})]},proxy:!0},{key:"append",fn:function(){return[e.sending?e._e():n("q-btn",{staticClass:"q-px-sm",style:{width:e.loading.smsSend?"110px":"50px"},attrs:{unelevated:"",dense:"",color:"primary",label:e.$t("OTP"),disable:e.loading.smsSend,loading:e.loading.smsSend},on:{click:function(t){return t.stopPropagation(),e.sendCode(t)}},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\n                  "+e._s(e.$t("sending"))+"..."),n("q-spinner",{staticClass:"on-right",attrs:{size:"xs"}})]},proxy:!0}],null,!1,1075219961)}),e.sending?n("span",{staticClass:"cursor-not-allowed text-body1 text-grey-5"},[e._v("\n                "+e._s(e.$t("try_again_seconds",{seconds:e.codeTimeout}))+"\n              ")]):e._e()]},proxy:!0}]),model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}}),n("q-btn",{staticClass:"full-width q-mt-lg",attrs:{unelevated:"",size:"lg",color:"primary","no-caps":"",label:e.$t("continue"),type:"submit",loading:e.loading.forget},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n              "+e._s(e.$t("loading"))+"...\n            ")]},proxy:!0}])}),n("q-btn",{staticClass:"full-width q-mt-lg",attrs:{unelevated:"",size:"lg",color:"grey",to:"/","no-caps":"",label:e.$t("back_home")}})],1)],1)])],1)],1)},r=[],s=(n("ac1f"),n("5319"),n("a474")),a={name:"ForgetPage",data:function(){return{confirmPassword:"",sending:!1,codeTimeout:59,form:{type:"mobile",mobile:"",newpassword:"",captcha:""}}},computed:{loading:function(){return this.$store.getters["common/loadings"]}},methods:{passwordRule:function(e){var t=6,n=32;return!(!e||e.length<t||e.length>n)||this.$t("login_password_rule",{min:t,max:n})},sendCode:function(){var e=this;if(this.$refs.mobile.validate(),this.$refs.mobile.hasError)return!1;this.tmpTime||(this.tmpTime=this.codeTimeout),Object(s["v"])(this.form.mobile,"resetpwd").then((function(t){e.sending=!0;var n=setInterval((function(){e.codeTimeout>0?e.codeTimeout--:(e.codeTimeout=e.tmpTime,e.sending=!1,clearInterval(n))}),1e3)}))},onSubmit:function(){var e=this;if(!this.form.captcha)return this.$q.notify({color:"warning",textColor:"white",icon:"warning",message:this.$t("enter_correct_code")}),!1;Object(s["i"])(this.form).then((function(){e.$router.replace({path:"/login"})}))}}},i=a,l=n("2877"),c=n("4d5a"),p=n("e359"),u=n("65c6"),d=n("6ac5"),m=n("09e3"),f=n("9989"),g=n("0378"),b=n("27f9"),w=n("0016"),h=n("9c40"),_=n("0d59"),y=n("9149"),q=n("eebe"),x=n.n(q),$=Object(l["a"])(i,o,r,!1,null,null,null);t["default"]=$.exports;x()($,"components",{QLayout:c["a"],QHeader:p["a"],QToolbar:u["a"],QToolbarTitle:d["a"],QPageContainer:m["a"],QPage:f["a"],QForm:g["a"],QInput:b["a"],QIcon:w["a"],QBtn:h["a"],QSpinner:_["a"],QSpinnerHourglass:y["a"]})}}]);