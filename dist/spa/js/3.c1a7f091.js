(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"56b4":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("div",{staticClass:"q-px-xl"},[n("q-form",{on:{submit:e.onSubmit}},[n("q-input",{ref:"mobile",attrs:{placeholder:e.$t("registered_mobile_number"),label:e.$t("mobile"),rules:[function(t){return t&&t.length>0||e.$t("enter_correct_mobile")}],"lazy-rules":"",clearable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"phone_android"}})]},proxy:!0}]),model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),n("q-input",{attrs:{type:"password",rules:[e.passwordRule],placeholder:e.$t("create_password"),label:e.$t("password"),clearable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"o_lock"}})]},proxy:!0}]),model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("q-input",{attrs:{type:"password",placeholder:e.$t("confirm_password"),label:e.$t("confirm_password"),rules:[function(t){return t&&t===e.form.password||e.$t("password_confirm_failed")}],clearable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"check"}})]},proxy:!0}]),model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),n("q-input",{attrs:{placeholder:e.$t("verification_code"),label:e.$t("code")},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"o_insert_comment"}})]},proxy:!0},{key:"append",fn:function(){return[e.sending?e._e():n("q-btn",{staticClass:"q-px-sm",style:{width:e.sendLoading?"110px":"50px"},attrs:{unelevated:"",dense:"",color:"primary",label:e.$t("OTP"),disable:e.sendLoading,loading:e.sendLoading},on:{click:function(t){return t.stopPropagation(),e.sendCode(t)}},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\n              "+e._s(e.$t("sending"))+"..."),n("q-spinner",{staticClass:"on-right",attrs:{size:"xs"}})]},proxy:!0}],null,!1,202462969)}),e.sending?n("span",{staticClass:"cursor-not-allowed text-body1 text-grey-5"},[e._v("\n            "+e._s(e.$t("try_again_seconds",{seconds:e.codeTimeout}))+"\n          ")]):e._e()]},proxy:!0}]),model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),n("q-input",{attrs:{type:"text",placeholder:e.$t("recommendation_code"),label:e.$t("referrer"),clearable:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"o_admin_panel_settings"}})]},proxy:!0}]),model:{value:e.form.referrer,callback:function(t){e.$set(e.form,"referrer",t)},expression:"form.referrer"}}),n("q-checkbox",{attrs:{color:"primary",label:e.$t("i_agree_with_the")},model:{value:e.accept,callback:function(t){e.accept=t},expression:"accept"}},[n("span",{staticClass:"text-primary cursor-pointer",on:{click:function(t){t.stopPropagation(),e.fixed=!0}}},[e._v("\n          "+e._s(e.$t("privacy_policy"))+"\n        ")])]),n("q-btn",{staticClass:"full-width q-mt-lg",attrs:{color:"primary","no-caps":"",label:e.$t("register"),size:"lg",unelevated:"",type:"submit",loading:e.loading},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n          "+e._s(e.$t("loading"))+"...\n        ")]},proxy:!0}])}),n("q-btn",{staticClass:"full-width q-mt-lg",attrs:{unelevated:"",size:"lg",color:"grey",to:"/","no-caps":"",label:e.$t("back_home")}})],1)],1),n("agreement-dialog",{attrs:{"confirm-label":e.$t("accept"),"cancel-label":e.$t("decline"),"sub-title":e.subTitle,title:e.$t("terms_of_agreement"),content:e.agreement},on:{confirm:e.agreementConfirm},model:{value:e.fixed,callback:function(t){e.fixed=t},expression:"fixed"}})],1)},r=[],a=(n("ac1f"),n("5319"),n("96cf"),n("c973")),i=n.n(a),s=n("a474"),c=n("7463"),l={name:"RegisterPage",components:{AgreementDialog:c["a"]},data:function(){return{accept:!0,fixed:!1,agreement:"",subTitle:"",confirmPassword:"",sending:!1,codeTimeout:59,form:{mobile:"",password:"",code:"",referrer:""}}},computed:{loading:function(){return"register"===this.$store.state.common.loading.api&&this.$store.state.common.loading.state},sendLoading:function(){return"smsSend"===this.$store.state.common.loading.api&&this.$store.state.common.loading.state}},methods:{agreementConfirm:function(e){this.accept=e},passwordRule:function(e){var t=6,n=32;return!(!e||e.length<t||e.length>n)||this.$t("login_password_rule",{min:t,max:n})},sendCode:function(){var e=this;if(this.$refs.mobile.validate(),this.$refs.mobile.hasError)return!1;this.tmpTime||(this.tmpTime=this.codeTimeout),Object(s["i"])(this.form.mobile,"register").then((function(t){e.sending=!0;var n=setInterval((function(){e.codeTimeout>0?e.codeTimeout--:(e.codeTimeout=e.tmpTime,e.sending=!1,clearInterval(n))}),1e3)}))},onSubmit:function(){var e=this;return this.form.code?!0!==this.accept?(this.$q.notify({color:"warning",textColor:"white",icon:"warning",message:this.$t("accept_the_license")}),!1):void Object(s["g"])(this.form).then((function(t){t&&(e.$store.commit("member/login",t.userinfo),e.$router.replace({path:e.$route.query.redirect||"/"}))})).catch((function(t){201===t.code&&e.$q.dialog({title:"Confirm",message:e.$t("invalid_referral_code_continue"),cancel:!0,persistent:!0}).onOk((function(){e.form.referrer="",e.onSubmit()}))})):(this.$q.notify({color:"warning",textColor:"white",icon:"warning",message:this.$t("enter_correct_code")}),!1)}},created:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("register");case 2:n=t.sent,e.agreement=n.content,e.subTitle=n.subtitle;case 5:case"end":return t.stop()}}),t)})))()}},d=l,u=n("2877"),p=n("9989"),m=n("0378"),f=n("27f9"),g=n("0016"),b=n("9c40"),h=n("0d59"),_=n("8f8e"),$=n("9149"),v=n("eebe"),y=n.n(v),x=Object(u["a"])(d,o,r,!1,null,null,null);t["default"]=x.exports;y()(x,"components",{QPage:p["a"],QForm:m["a"],QInput:f["a"],QIcon:g["a"],QBtn:b["a"],QSpinner:h["a"],QCheckbox:_["a"],QSpinnerHourglass:$["a"]})},7463:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("q-card",[e.title?n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.title))])]):e._e(),n("q-separator"),n("q-card-section",{staticClass:"scroll bg-white",staticStyle:{"max-height":"40vh"},domProps:{innerHTML:e._s(e.content)}}),n("q-separator"),e.subTitle?n("div",{staticClass:"q-px-md q-pt-md text-body2"},[e._v("\n      "+e._s(e.subTitle)+"\n    ")]):e._e(),e.cancelLabel||e.confirmLabel?n("q-card-actions",{attrs:{align:"right"}},[e.cancelLabel?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.cancelLabel,color:"grey",size:"lg"},on:{click:function(t){return e.confirm(!1)}}}):e._e(),e.confirmLabel?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.confirmLabel,color:"primary",size:"lg"},on:{click:function(t){return e.confirm(!0)}}}):e._e()],1):e._e()],1)],1)},r=[],a={name:"AgreementDialog",props:{value:{type:Boolean,default:!1},content:{type:String,default:""},subTitle:{type:[Boolean,String],default:!1},title:{type:[Boolean,String],default:!1},confirmLabel:{type:[Boolean,String],default:!1},cancelLabel:{type:[Boolean,String],default:!1}},data:function(){return{dialog:!1}},methods:{confirm:function(e){this.$emit("confirm",e)}},watch:{value:function(e){this.dialog=e},dialog:function(e){this.$emit("input",e)}}},i=a,s=n("2877"),c=n("24e8"),l=n("f09f"),d=n("a370"),u=n("eb85"),p=n("4b7e"),m=n("9c40"),f=n("7f67"),g=n("eebe"),b=n.n(g),h=Object(s["a"])(i,o,r,!1,null,null,null);t["a"]=h.exports;b()(h,"components",{QDialog:c["a"],QCard:l["a"],QCardSection:d["a"],QSeparator:u["a"],QCardActions:p["a"],QBtn:m["a"]}),b()(h,"directives",{ClosePopup:f["a"]})}}]);