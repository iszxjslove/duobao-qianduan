(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{eddc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",[a("q-tabs",{attrs:{align:"justify","active-color":"primary","indicator-color":"primary","no-caps":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"answered",label:t.$t("answered")}}),a("q-tab",{attrs:{name:"waiting",label:t.$t("waiting")}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"answered"},on:{show:function(e){t.scrollTarget=t.$refs.scrollTargetRef}}},[a("div",{staticClass:"text-grey-8"},[a("q-infinite-scroll",{ref:"historicalScroll",attrs:{offset:250,"scroll-target":t.scrollTarget},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[a("div",{staticClass:"row justify-center q-my-md"},[a("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[a("q-list",{attrs:{separator:""}},t._l(t.list,(function(e){return a("q-item",{key:e.id},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.create_time_text))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n                    "+t._s(e.desc)+"\n                  ")])],1),a("q-item-section",{attrs:{side:""}},[t._v("\n                  "+t._s(t._f("statusText")(e.status))+"\n                ")])],1)})),1),t.no_more?a("div",{staticClass:"text-center q-pt-md"},[t._v("\n              "+t._s(t.$t("no_more"))+"\n            ")]):t._e()],1)],1)]),a("q-tab-panel",{attrs:{name:"waiting"}},[a("div",{staticClass:"text-grey-8"},[a("q-infinite-scroll",{ref:"historicalScroll",attrs:{offset:250,"scroll-target":t.scrollTarget},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[a("div",{staticClass:"row justify-center q-my-md"},[a("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[a("q-list",{attrs:{separator:""}},t._l(t.list,(function(e){return a("q-item",{key:e.id},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.create_time_text))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n                    "+t._s(e.desc)+"\n                  ")])],1),a("q-item-section",{attrs:{side:""}},[t._v("\n                  "+t._s(t._f("statusText")(e.status))+"\n                ")])],1)})),1),t.no_more?a("div",{staticClass:"text-center q-pt-md"},[t._v("\n              "+t._s(t.$t("no_more"))+"\n            ")]):t._e()],1)],1)])],1)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){t.addDialog=!0}}})],1),a("add-dialog",{model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}})],1)},s=[],o=(a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"",maximized:t.maximizedToggle,"transition-show":"slide-left","transition-hide":"slide-right"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"bg-primary text-white"},[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("add_new")))]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[a("q-select",{attrs:{outlined:"",behavior:"menu","bg-color":"white",label:t.$t("type"),options:t.categoryOptions},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                No results\n              ")])],1)]},proxy:!0}]),model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),a("q-input",{attrs:{"bg-color":"white",outlined:"",type:"textarea",label:t.$t("description")},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),a("q-input",{attrs:{outlined:"",label:t.$t("whats_app"),"bg-color":"white"},model:{value:t.form.whatsapp,callback:function(e){t.$set(t.form,"whatsapp",e)},expression:"form.whatsapp"}}),a("div",{staticClass:"q-mt-md"},[a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",label:t.$t("submit"),type:"submit",size:"lg",color:"positive"}})],1)],1)],1),a("q-card-section",[a("q-item",[a("q-item-section",{staticClass:"text-white text-h6",attrs:{side:"",top:""}},[t._v("\n          "+t._s(t.$t("service"))+"\n        ")]),a("q-item-section",[a("q-item-label",[t._v("10:00-17:00, Monday - Friday")]),a("q-item-label",[t._v("about 1-5 business days.")])],1)],1)],1)],1)],1)}),n=[],r=(a("b0c0"),a("a474")),l={name:"addComplaint",props:{value:{type:Boolean,default:!1}},data:function(){return{dialog:!1,maximizedToggle:!0,model:null,categoryOptions:null,category:null,form:{category_id:"",category_name:"",desc:"",whatsapp:""}}},methods:{onSubmit:function(){var t=this;Object(r["c"])(this.form).then((function(){t.dialog=!1}))},filterFn:function(t,e,a){var i=this;null===this.categoryOptions?Object(r["d"])().then((function(t){e((function(){i.categoryOptions=t.map((function(t){return{value:t.id,label:t.name}}))}))})):e()}},watch:{value:function(t){this.dialog=t},dialog:function(t){this.$emit("input",t)},category:function(t){t&&(this.form.category_id=t.value,this.form.category_name=t.label)}},created:function(){}},c=l,d=a("2877"),u=a("24e8"),m=a("f09f"),p=a("a370"),f=a("2c91"),b=a("9c40"),g=a("0378"),v=a("ddd8"),q=a("66e5"),_=a("4074"),h=a("27f9"),y=a("0170"),w=a("7f67"),x=a("eebe"),Q=a.n(x),C=Object(d["a"])(c,o,n,!1,null,null,null),k=C.exports;Q()(C,"components",{QDialog:u["a"],QCard:m["a"],QCardSection:p["a"],QSpace:f["a"],QBtn:b["a"],QForm:g["a"],QSelect:v["a"],QItem:q["a"],QItemSection:_["a"],QInput:h["a"],QItemLabel:y["a"]}),Q()(C,"directives",{ClosePopup:w["a"]});var S={name:"ComplaintPage",components:{addDialog:k},filters:{statusText:function(t){var e=["waiting","answered"];return e[t]}},data:function(){return{tab:"answered",addDialog:!1,scrollTarget:void 0,no_more:!1,limit:10,page:1,list:[]}},computed:{params:function(){var t={},e={};return"answered"===this.tab?(t={status:1},e={status:"="}):(t={status:0},e={status:"="}),{sort:"id",order:"desc",offset:(this.page-1)*this.limit,limit:this.limit,filter:t,op:e}}},methods:{receive:function(t){missionReceive(t.id).then((function(t){console.log(t)}))},onLoad:function(t,e){var a=this;this.page=t,Object(r["e"])(this.params).then((function(i){1===t&&(a.list=[]),i.rows&&i.rows.length>0?i.rows.map((function(t){a.list.push(t)})):(a.$refs.historicalScroll.stop(),a.no_more=!0),e()}))}}},$=S,T=a("9989"),O=a("429b"),j=a("7460"),D=a("eb85"),I=a("adad"),z=a("823b"),L=a("ef35"),P=a("1c1c"),F=a("8380"),B=a("de5e"),E=Object(d["a"])($,i,s,!1,null,null,null);e["default"]=E.exports;Q()(E,"components",{QPage:T["a"],QTabs:O["a"],QTab:j["a"],QSeparator:D["a"],QTabPanels:I["a"],QTabPanel:z["a"],QInfiniteScroll:L["a"],QList:P["a"],QItem:q["a"],QItemSection:_["a"],QItemLabel:y["a"],QSpinnerDots:F["a"],QPageSticky:B["a"],QBtn:b["a"]})}}]);